appId: "com.s370101387.synctrip"
---
# launch App
- launchApp
# login
- tapOn: { id: "account" }
- inputText: "vivanoon6666@gmail.com"
- tapOn: { id: "password" }
- inputText: "zhuhanyu666"
- doubleTapOn: { id: "login" }
# navigate to dashboard and check the function of the buttons
- assertVisible: { id: "dashboardScreen"}
- waitForAnimationToEnd
#
# TODO: history and archivedTrips screen not implemented.
#- scrollUntilVisible:
#    element: {id: "archivedTrips"}
#    direction: DOWN
#- tapOn: { id: "viewMore" }
#- assertVisible: { id: "historyScreen" }
#- assertVisible: "Trip History"
#- back
#- tapOn: { id: "archivedTrips" }
#- assertVisible: {id: "archivedHistoryScreen"}
#- assertVisible: "Archived Trips"
#- back
#
# Test for Profile Screen
- tapOn: { id: "tab-profile" }
- assertVisible: { id: "profileScreen" }
- tapOn: { id: "profile_edit" }
# edit name
- tapOn: { id: "name" }
- eraseText
- inputText: "Test_Acc"
# edit bio
- tapOn: { id: "bio" }
- eraseText
- inputText: "Hello World!"
# edit travel preferences
- doubleTapOn: { id: "travelPreferences"}
- tapOn: "N/A"
- tapOn: { id: "save_profile" }
- assertVisible: "Test_Acc"
- assertVisible: "Hello World!"
- assertVisible: "N/A"
# Testing for Profile Screen finished
#
#  navigate to trip
#- tapOn: {id: "tab-trip"}
#
# Test for New Trip Screen
- tapOn: { id: "tab-plus" }
- tapOn: { id: "tripTitle" }
- inputText: "Test Trip"
- tapOn: { id: "selectDates" }
- tapOn: "2"
- tapOn: "5"
- tapOn: "Save"
- tapOn: { id: "createTrip" }
- assertVisible: "Test Trip"
#
# Test for Map Screen
- tapOn: { id: "tab-map" }
- tapOn: { id: "searchPlaces" }
- inputText: "Johns Hopkins University"
- doubleTapOn: "Johns Hopkins University, Baltimore, MD, USA"
- assertVisible: "Johns Hopkins University"
- tapOn: { id: "closeInfoModal" }
- longPressOn: { id: "map", point: "50%,50%" }
- tapOn: { id: "description" }
- inputText: "JHU"
- tapOn: { id: "selectDate" }
- tapOn: "3"
- tapOn: "Save"
- tapOn: { id: "selectTime" }
- tapOn: { id: "timePicker1", point: "50%,50%" }
- tapOn: { id: "timePicker1", point: "50%,50%" }
- tapOn: "Ok"
- tapOn: "Add"
- tapOn: { id: "map" }
- assertVisible: "Marker Details"
- tapOn: { id: "editMarker" }
- tapOn: { id: "editDate" }
- tapOn: "4"
- tapOn: "Save"
- tapOn: { id: "editTime" }
- tapOn: { id: "timePicker2", point: "70%,50%" }
- tapOn: { id: "timePicker2", point: "70%,50%" }
- tapOn: "Ok"
- tapOn: { id: "saveChanges" }
#
# Test For Current Trip Screen
- tapOn: { id: "tab-trip" }
- assertVisible: "JHU"
- tapOn: { id: "editTrip" }
- tapOn: { id: "changeDates" }
- tapOn: "1"
- tapOn: "6"
- tapOn: "Save"
- tapOn: "ongoing"
- tapOn: "Save Changes"
- tapOn: {id: "pencil" }
- tapOn: "Cancel"
- tapOn: {id: "trash" }
- tapOn: "DELETE"
#
# Test For Dashboard Screen
- tapOn: { id: "tab-dashboard" }
- assertVisible:
    below: "Ongoing"
    containsDescendants:
      - "Test Trip"
- tapOn:
    below: "Ongoing"
    containsDescendants:
      - "Invite"
- doubleTapOn: {id: "inviteEmailInput"}
- inputText: "vivanoon6666@gmail.com"
- tapOn: { id: "confirmInvitation" }
- tapOn: "OK"
- tapOn: {id: "tab-trip"}
- tapOn: "Delete Trip"
- tapOn: "DELETE"
# logout
- tapOn: { id: "tab-profile" }
- tapOn: "Log Out"
- assertVisible: {id: "logInBackground"}